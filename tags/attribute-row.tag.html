<attribute-row>
    <style>
        .attribute-name{
            width: 30%;
        }
        .attribute-value{
            width: 65%;
        }
        .del-attribute{
            width: 5%;
            cursor: pointer;
        }
        input[type="text"]{
            border: 0px;
            padding: 1px;
        }
    </style>
    <div class="form-inline" style="margin-top:3px;">
        <div class="attribute-name">
            <input ref="attr-name" type="text" class="form-text w-100 " value="{ opts.lbl }" onchange={updateAttributeName} placeholder="name" style="background: #ccc;">
        </div>
        <div class="attribute-value">
            <input type="text" class="form-text w-100" value="{ opts.val }" onchange={updateAttributeValue} placeholder="value">
        </div>
        <div class="del-attribute"  onclick={deleteAttribute}>
            <i class="icon icon-trash-empty small"></i>
        </div>
    </div>
    <script>
        var thisTag = this;
        this.updateAttributeName = function(e){
            this.parent.targetShape.attributes[ opts.index ].label = e.target.value;
        }
        this.updateAttributeValue = function(e){
            this.parent.targetShape.attributes[ opts.index ].value = e.target.value;
        }
        this.deleteAttribute = function(e){
            var index = indexOf(thisTag.parent.targetShape.attributes, "label", thisTag.refs["attr-name"].value);
            thisTag.parent.targetShape.attributes.splice(index, 1);
            thisTag.parent.update();
        }
    </script>
</attribute-row>